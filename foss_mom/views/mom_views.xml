<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record model="ir.ui.view" id="calendar_view_inherit">
        <field name="name">Calendar View Inherit</field>
        <field name="model">calendar.event</field>
        <field name="inherit_id" ref="calendar.view_calendar_event_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form/sheet" position="before">
                <header>
                    <button name="print_mom" string="Print MOM" type="object" class="oe_highlight"/>
                    <button name="email_mom" string="Email MOM" type="object" class="oe_highlight"/>
                </header>
            </xpath>
        
            <xpath expr="//field[@name='location']"  position="after">
                <field name="project_id"/>
                <field name="company_id" readonly="1" force_save='1' invisible="1"/>
            </xpath>
            <group>
                <label for="discussion"/>
                <field name="discussion"/>
                <label for="action_items"/>
                <field name="action_items"/>
            </group>
            <group>
                <button name="create_tasks" string="Create / Update Tasks" type="object" style="background-color: #7C7BAD;color : #FFFFFF;"/>
                    <label for="task_line"/>
                    <field name="task_line">
                        <tree editable="bottom">
                            <field name="name" required="1"/>
                            <field name="description"/>
                            <field name="user_id" required="1"/>
                            <field name="date_deadline"/>
                            <field name="stage_id" force_save="1" readonly="1"/>
                            <field name="task_id" force_save="1" readonly="1"  column_invisible ="1"/>
                        </tree>
                    </field>
            </group>
        </field>
    </record>

    <record id="view_calendar_event_search_inherit_mom" model="ir.ui.view">
        <field name="name">calendar.event.search.inherit.mom</field>
        <field name="model">calendar.event</field>
        <field name="inherit_id" ref="calendar.view_calendar_event_search"/>
        <field name="arch" type="xml">
            <field name="show_as" position="after">
                <field name="project_id"/>
            </field>
            <xpath expr="/search/group/filter[@name='responsible']" position="after">
                <filter string="Project" name="groupby_project_id" domain="[]" context="{'group_by': 'project_id'}"/>
            </xpath>
        </field>
    </record>
</odoo>
