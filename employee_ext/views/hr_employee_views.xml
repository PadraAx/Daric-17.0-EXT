<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
  <!-- Employee View -->
    <record id="hr_employee_view_ext_form" model="ir.ui.view">
      <field name="name">sync.hr.employee.ext.view.form</field>
      <field name="model">hr.employee</field>
      <field name="inherit_id" ref="hr.view_employee_form"/>
      <field name="priority">101</field>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='coach_id']" position="after">
          <field name="indirect_manager"/>
          <field name="leader_in_function" widget="many2many_tags"/>
          <field name="personal_assist" widget="many2many_tags"/>
          <field name="employee_status" required="1"/>
          <field name="employee_type" required="0"/>
          <field name="running_contract" invisible="1"/>
          <field name="child_ids" invisible="1"/>
          <field name="join_date" required="1"/>
          
        </xpath>
        <xpath expr="//field[@name='mobile_phone']" position="before">
          <field name="company_country_id" invisible="1"/>
          <field name="personnel_code" readonly="1"/>
          <field name="labour_personal_code" invisible="company_country_code != 'AE'"/>
          <field name="gender"/>
          <field name="responsible_company" readonly="running_contract == True"/>
          <field name="legal_company" readonly="running_contract == True"/>
          <field name="address_id" required="active != False" domain="[('is_location', '=', True)]"/>
          <field name="work_location_id" string="Station" required="active != False"/> 
        </xpath>
        <xpath expr="//page[@name='hr_settings']//field[@name='user_id']" position="before">
          <xpath expr="//group[1]//group[1]//field[@name='company_id']" position="move"/>
        </xpath>
        <xpath expr="//group[1]//group[1]//field[@name='company_id']" position="attributes">
          <attribute name="groups">base.group_user</attribute>
          <attribute name="string">Company</attribute>
          <attribute name="required">1</attribute>
          <attribute name="readonly">running_contract == True</attribute>
        </xpath>
        <xpath expr="//field[@name='job_title']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//field[@name='work_phone']" position="attributes">
          <attribute name="string">Extension No</attribute>
        </xpath>
        <xpath expr="//field[@name='work_email']" position="attributes">
          <attribute name="required">1</attribute>
        </xpath>
        <xpath expr="//field[@name='name']" position="attributes">
          <attribute name="placeholder">Alias Name</attribute>
          <attribute name="required">1</attribute>
        </xpath>
        <xpath expr="//field[@name='department_id']" position="attributes">
          <attribute name="readonly">running_contract == True</attribute>
          <attribute name="options">{'no_create': True}</attribute>
        </xpath>
        <xpath expr="//field[@name='job_id']" position="attributes">
          <attribute name="readonly">running_contract == True</attribute>
          <attribute name="options">{'no_create': True}</attribute>
        </xpath>
        <xpath expr="//field[@name='coach_id']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//page[2]" position="attributes">
          <attribute name="groups">employee_ext.group_hr_employee_reader,hr.group_hr_user</attribute> 
        </xpath>
        <xpath expr="//page[@name='public']//div[@id='o_work_employee_main']" position="replace">
          <div id="o_work_employee_main" class="flex-grow-1">
            <group string="Location" invisible="1">
              <field name="address_id" context="{'show_address': 1}" options='{"highlight_first_line": True}'/>
              <field name="work_location_id" context="{'default_address_id': address_id}" />
            </group>
            <group string="Information">
              <field name="sit_taker"/>
              <field name="filename" invisible="1"/>
              <field name="resume" filename="filename"/>
              <field name="termination_date"/>
            </group>
            <group name="contract_information" string="Contract Values">
              <field name="marital" readonly="running_contract == True"/>
              <field name="children" readonly="running_contract == True"/>
              <field name="dependent_number" readonly="running_contract == True"/>
              <field name="probationary_period" readonly="running_contract == True"/>
              <field name="notice_period" readonly="running_contract == True"/>
              <field name="insurance_number" placeholder="10 digit"/>
              <field name="tamin_job_id"/>
              <field name="payment_type" readonly="running_contract == True"/>
              <field name="phil_health_no" invisible="company_country_code != 'PH'"/>
            </group>
            <group name="managers" string="Approvers" class="hide-group-if-empty">
            </group>
            <group name="departure" string="Departure" invisible="active">
              <field name="departure_reason_id" options="{'no_edit': True, 'no_create': True, 'no_open': True}"/>
              <field name="departure_description"/>
              <field name="departure_date"/>
            </group>
            <group string="Schedule">
              <field name="resource_calendar_id" readonly="running_contract == True"/>
              <field name="id" invisible="1"/>
              <field name="tz" required="id"/>
            </group>
            <group string="Department Layer Values">
              <field name="department_dep_id"/>
              <field name="department_division_id"/>
              <field name="department_unit_id"/>
              <field name="department_subunit_id"/>
              <field name="department_desk_id"/>
            </group>
          </div>
        </xpath>
        <xpath expr="//field[@name='name']" position="attributes">
          <attribute name="force_save">1</attribute>
        </xpath>
        <xpath expr="//field[@name='place_of_birth']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//field[@name='visa_expire']" position="after">
          <field name="identification_id" position="move"/>
        </xpath>
        <xpath expr="//page[@name='hr_settings']//group[@name='identification_group']//field[@name='pin']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//page[@name='personal_information']" position="replace">
          <page name="personal_information" string="Personal Information" groups="employee_ext.group_hr_employee_reader,hr.group_hr_user">
            <group>
              <group>
                <separator name="private_information" string="Personal"/>
                  <field name="first_name"/>
                  <field name="last_name"/>
                  <field name="birthday"/>
                  <field name="country_of_birth"/>
                  <field name="father_name"/>
                  <field name="mother_name"/>
                  <field name="national_code" placeholder="10 digit"/>
                  <field name="nationality"/>
                  <field name="other_nationality"/>
                  <field name="identification_id" string="Government ID No"/>
                  <field name="sss_no" invisible="company_country_code != 'PH'"/>
                  <field name="pan_card_no" invisible="company_country_code != 'IN'"/>
                  <field name="pf_no" invisible="company_country_code != 'IN'"/>
                  <field name="pf_uan_no" invisible="company_country_code != 'IN'"/>
                  <field name="place_of_birth" string="Identification Place"/>
                  <field name="id_expire_date"/>
                  <field name="religion"/>
                  <field name="lang" string="Language"/>
                <separator name="private_contact" string="Private Contact"/>
                  <label for="private_street" string="Permanent Address"/>
                  <div class="o_address_format">
                    <field name="private_street"/>
                  </div>
                  <label for="home_country_address_id" string="Home Country Address"/>
                  <div class="o_address_format">
                    <field name="home_country_address_id"/>
                  </div>
                  <field name="hdmf_no" invisible="company_country_code != 'PH'"/>
                  <field name="private_email" required="1"/>
                  <field name="private_phone" required="1"/>
                  <field name="second_phone"/>
                <separator name="emergency" string="Emergency Contact"/>
                  <field name="emergency_contact"/>
                  <field name="emergency_relation"/>
                  <field name="emergency_phone" class="o_force_ltr"/>
                  <field name="emergency_email"/>
                  <label for="emergency_address" string="Emergency Address"/>
                  <div class="o_address_format">
                    <field name="emergency_address"/>
                  </div>                  
              </group>      
              <group> 
                <separator name="citizenship" string="Citizenship"/>
                  <field name="residential_status"/>
                  <field name="passport_id"/>
                  <field name="passport_expire_date"/>
                  <field name="visa_no" invisible="residential_status == 'expat' or company_country_code != 'AE'"/>
                  <field name="visa_expire" invisible="residential_status == 'expat' or company_country_code != 'AE'"/>                                        
                  <field name="permit_no"/>
                  <field name="type_of_permit" invisible="company_country_code != 'SG'"/>
                  <field name="work_permit_expiration_date" invisible="company_country_code not in ('IR', 'AE', 'CN')"/>
                <separator name="account_information" string="Bank Account Details"/>
                  <field name="bank_name"/>
                  <field name="bank_account"/>
                  <field name="swift_code"/>
                  <field name="branch_location"/>
                  <field name="iban_no"/>
                  <field name="ifsc_code"/>
                  <field name="bir_no" invisible="company_country_code != 'PH'"/>
              </group>
            </group>
          </page>
        </xpath>
        <xpath expr="//page[@name='personal_information']" position="after">
          <page name="local_information" string="Local Information" groups="employee_ext.group_hr_employee_reader,hr.group_hr_user">
            <group>
              <group>
                <field name="local_first_name"/>
                <field name="local_last_name"/>
                <field name="Local_father_name"/>
                <field name="local_address"/>
              </group>
              <group>
                <field name="local_job_position"/>
                <field name="local_birth_place"/>
                <field name="local_nationality"/>
                <field name="local_degree"/>
              </group>
            </group>
          </page>
          <page name="cost_center" string="Cost Center" groups="employee_ext.group_hr_employee_reader,hr.group_hr_user">
              <field name="cost_center_ids" readonly="1">
                  <tree>
                      <field name="eff_date"/>
                      <field name="percent"/>
                      <field name="cost_center_id"/>
                      <field name="active_status"/>
                  </tree>
              </field>
          </page>
          <page name="Document" string="Work Document" groups="employee_ext.group_hr_employee_reader,hr.group_hr_user">
            <field name="document_ids"/>
          </page>
          <page name="contact" string="Contacts" groups="hr.group_hr_manager">
            <field name="contact_id"/>
          </page>
          <page name="dependent" string="Dependent" groups="employee_ext.group_hr_employee_reader,hr.group_hr_user">
              <field name="dependent_ids"/>
          </page>
          <page name="education" string="Education" groups="employee_ext.group_hr_employee_reader,hr.group_hr_user">
            <field name="education_ids"/>
          </page>
          <page name="achievement" string="Achievements" groups="hr.group_hr_manager">
            <field name="achievement_id"/>
          </page>
          <page name="training" string="Training" groups="hr.group_hr_user">
            <field name="training_ids"/>
          </page>
          <page name="warning_letter" string="Notice Letter" groups="hr.group_hr_manager">
            <field name="warning_letter_ids"/>
          </page>
          <page name="termination" string="Termination" groups="hr.group_hr_manager">
              <field name="termination_ids"/>
          </page>
        </xpath>

        <xpath expr="//page[@name='termination']" position="after">
            <page name="hr_settings" position="move" />
        </xpath>    
        <xpath expr="//page[@name='hr_settings']//field[@name='user_id']" position="after">
          <field name="sequence"/>
        </xpath>
        <xpath expr="//page[@name='hr_settings']//field[@name='employee_type']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>
        <xpath expr="//page[@name='hr_settings']//group[@name='identification_group']" position="attributes">
          <attribute name="groups">hr.group_hr_manager</attribute>
        </xpath>
        <xpath expr="//page[@name='hr_settings']//group[@name='payroll_group']" position="attributes">
          <attribute name="groups">hr.group_hr_manager</attribute>
        </xpath>
        <xpath expr="//page[@name='hr_settings']//group[@name='application_group']" position="attributes">
          <attribute name="groups">hr.group_hr_manager</attribute>
        </xpath>
      </field>
    </record>

    <record id="hr_employee_ext_tree_view" model="ir.ui.view">
      <field name="name">hr.employee.ext.tree.view</field>
      <field name="model">hr.employee</field>
      <field name="inherit_id" ref="hr.view_employee_tree"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='name']" position="after">
          <field name="personnel_code"/>
        </xpath>
      </field>
    </record>


    <record id="hr_kanban_ext_view_employees" model="ir.ui.view">
        <field name="name">hr.employee.ext.kanban</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.hr_kanban_view_employees"/>
        <field name="arch" type="xml">
            <xpath expr="//t[@t-if='record.image_1024.raw_value']" position="replace">
              <t t-if="record.image_128.raw_value">
                  <field name="avatar_128" class="o_kanban_image_fill_left d-block"
                                      widget="background_image" options="{'zoom': true, 'zoom_delay': 1000}"/>
              </t>
          </xpath>
          <xpath expr="//t[@t-elif='record.image_128.raw_value']" position="replace">
              
          </xpath>
        </field>
    </record>

    <record id="hr_employee_public_ext_view_kanban" model="ir.ui.view">
        <field name="name">hr.employee.public.ext.kanban</field>
        <field name="model">hr.employee.public</field>
        <field name="inherit_id" ref="hr.hr_employee_public_view_kanban"/>
        <field name="arch" type="xml">
            <xpath expr="//t[@t-if='!record.image_1024.raw_value']" position="replace">
              <field name="avatar_128" class="o_kanban_image_fill_left d-block"
                                    widget="background_image" options="{'zoom': true, 'zoom_delay': 1000}"/>
          </xpath>
          <xpath expr="//t[@t-else='']" position="replace">
              
          </xpath>
        </field>
    </record>

    <record id="hr_employee_ext_hierarchy_view" model="ir.ui.view">
        <field name="name">hr.employee.ext.view.hierarchy</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr_org_chart.hr_employee_hierarchy_view"/>
        <field name="arch" type="xml">
            <xpath expr="//t[@t-name='hierarchy-box']//field[@name='image_1024']" position="replace">
              <field name="image_128" preview_image="image_128" options="{'zoom': true, 'zoom_delay': 1000}" widget="background_image" />
          </xpath>
        </field>
    </record>


  </data>
</odoo>
